import {
  __toESM,
  require_react
} from "./chunk-ZTYU4KBB.js";

// ../../../node_modules/immer/dist/immer.esm.mjs
function n(n2) {
  for (var r2 = arguments.length, t3 = Array(r2 > 1 ? r2 - 1 : 0), e2 = 1; e2 < r2; e2++)
    t3[e2 - 1] = arguments[e2];
  if (true) {
    var i3 = Y[n2], o3 = i3 ? "function" == typeof i3 ? i3.apply(null, t3) : i3 : "unknown error nr: " + n2;
    throw Error("[Immer] " + o3);
  }
  throw Error("[Immer] minified error nr: " + n2 + (t3.length ? " " + t3.map(function(n3) {
    return "'" + n3 + "'";
  }).join(",") : "") + ". Find the full error at: https://bit.ly/3cXEKWf");
}
function r(n2) {
  return !!n2 && !!n2[Q];
}
function t(n2) {
  var r2;
  return !!n2 && (function(n3) {
    if (!n3 || "object" != typeof n3)
      return false;
    var r3 = Object.getPrototypeOf(n3);
    if (null === r3)
      return true;
    var t3 = Object.hasOwnProperty.call(r3, "constructor") && r3.constructor;
    return t3 === Object || "function" == typeof t3 && Function.toString.call(t3) === Z;
  }(n2) || Array.isArray(n2) || !!n2[L] || !!(null === (r2 = n2.constructor) || void 0 === r2 ? void 0 : r2[L]) || s(n2) || v(n2));
}
function i(n2, r2, t3) {
  void 0 === t3 && (t3 = false), 0 === o(n2) ? (t3 ? Object.keys : nn)(n2).forEach(function(e2) {
    t3 && "symbol" == typeof e2 || r2(e2, n2[e2], n2);
  }) : n2.forEach(function(t4, e2) {
    return r2(e2, t4, n2);
  });
}
function o(n2) {
  var r2 = n2[Q];
  return r2 ? r2.i > 3 ? r2.i - 4 : r2.i : Array.isArray(n2) ? 1 : s(n2) ? 2 : v(n2) ? 3 : 0;
}
function u(n2, r2) {
  return 2 === o(n2) ? n2.has(r2) : Object.prototype.hasOwnProperty.call(n2, r2);
}
function a(n2, r2) {
  return 2 === o(n2) ? n2.get(r2) : n2[r2];
}
function f(n2, r2, t3) {
  var e2 = o(n2);
  2 === e2 ? n2.set(r2, t3) : 3 === e2 ? n2.add(t3) : n2[r2] = t3;
}
function c(n2, r2) {
  return n2 === r2 ? 0 !== n2 || 1 / n2 == 1 / r2 : n2 != n2 && r2 != r2;
}
function s(n2) {
  return X && n2 instanceof Map;
}
function v(n2) {
  return q && n2 instanceof Set;
}
function p(n2) {
  return n2.o || n2.t;
}
function l(n2) {
  if (Array.isArray(n2))
    return Array.prototype.slice.call(n2);
  var r2 = rn(n2);
  delete r2[Q];
  for (var t3 = nn(r2), e2 = 0; e2 < t3.length; e2++) {
    var i3 = t3[e2], o3 = r2[i3];
    false === o3.writable && (o3.writable = true, o3.configurable = true), (o3.get || o3.set) && (r2[i3] = { configurable: true, writable: true, enumerable: o3.enumerable, value: n2[i3] });
  }
  return Object.create(Object.getPrototypeOf(n2), r2);
}
function d(n2, e2) {
  return void 0 === e2 && (e2 = false), y(n2) || r(n2) || !t(n2) || (o(n2) > 1 && (n2.set = n2.add = n2.clear = n2.delete = h), Object.freeze(n2), e2 && i(n2, function(n3, r2) {
    return d(r2, true);
  }, true)), n2;
}
function h() {
  n(2);
}
function y(n2) {
  return null == n2 || "object" != typeof n2 || Object.isFrozen(n2);
}
function b(r2) {
  var t3 = tn[r2];
  return t3 || n(18, r2), t3;
}
function _() {
  return U || n(0), U;
}
function j(n2, r2) {
  r2 && (b("Patches"), n2.u = [], n2.s = [], n2.v = r2);
}
function O(n2) {
  g(n2), n2.p.forEach(S), n2.p = null;
}
function g(n2) {
  n2 === U && (U = n2.l);
}
function w(n2) {
  return U = { p: [], l: U, h: n2, m: true, _: 0 };
}
function S(n2) {
  var r2 = n2[Q];
  0 === r2.i || 1 === r2.i ? r2.j() : r2.O = true;
}
function P(r2, e2) {
  e2._ = e2.p.length;
  var i3 = e2.p[0], o3 = void 0 !== r2 && r2 !== i3;
  return e2.h.g || b("ES5").S(e2, r2, o3), o3 ? (i3[Q].P && (O(e2), n(4)), t(r2) && (r2 = M(e2, r2), e2.l || x(e2, r2)), e2.u && b("Patches").M(i3[Q].t, r2, e2.u, e2.s)) : r2 = M(e2, i3, []), O(e2), e2.u && e2.v(e2.u, e2.s), r2 !== H ? r2 : void 0;
}
function M(n2, r2, t3) {
  if (y(r2))
    return r2;
  var e2 = r2[Q];
  if (!e2)
    return i(r2, function(i3, o4) {
      return A(n2, e2, r2, i3, o4, t3);
    }, true), r2;
  if (e2.A !== n2)
    return r2;
  if (!e2.P)
    return x(n2, e2.t, true), e2.t;
  if (!e2.I) {
    e2.I = true, e2.A._--;
    var o3 = 4 === e2.i || 5 === e2.i ? e2.o = l(e2.k) : e2.o, u3 = o3, a2 = false;
    3 === e2.i && (u3 = new Set(o3), o3.clear(), a2 = true), i(u3, function(r3, i3) {
      return A(n2, e2, o3, r3, i3, t3, a2);
    }), x(n2, o3, false), t3 && n2.u && b("Patches").N(e2, t3, n2.u, n2.s);
  }
  return e2.o;
}
function A(e2, i3, o3, a2, c2, s2, v2) {
  if (c2 === o3 && n(5), r(c2)) {
    var p2 = M(e2, c2, s2 && i3 && 3 !== i3.i && !u(i3.R, a2) ? s2.concat(a2) : void 0);
    if (f(o3, a2, p2), !r(p2))
      return;
    e2.m = false;
  } else
    v2 && o3.add(c2);
  if (t(c2) && !y(c2)) {
    if (!e2.h.D && e2._ < 1)
      return;
    M(e2, c2), i3 && i3.A.l || x(e2, c2);
  }
}
function x(n2, r2, t3) {
  void 0 === t3 && (t3 = false), !n2.l && n2.h.D && n2.m && d(r2, t3);
}
function z(n2, r2) {
  var t3 = n2[Q];
  return (t3 ? p(t3) : n2)[r2];
}
function I(n2, r2) {
  if (r2 in n2)
    for (var t3 = Object.getPrototypeOf(n2); t3; ) {
      var e2 = Object.getOwnPropertyDescriptor(t3, r2);
      if (e2)
        return e2;
      t3 = Object.getPrototypeOf(t3);
    }
}
function k(n2) {
  n2.P || (n2.P = true, n2.l && k(n2.l));
}
function E(n2) {
  n2.o || (n2.o = l(n2.t));
}
function N(n2, r2, t3) {
  var e2 = s(r2) ? b("MapSet").F(r2, t3) : v(r2) ? b("MapSet").T(r2, t3) : n2.g ? function(n3, r3) {
    var t4 = Array.isArray(n3), e3 = { i: t4 ? 1 : 0, A: r3 ? r3.A : _(), P: false, I: false, R: {}, l: r3, t: n3, k: null, o: null, j: null, C: false }, i3 = e3, o3 = en;
    t4 && (i3 = [e3], o3 = on);
    var u3 = Proxy.revocable(i3, o3), a2 = u3.revoke, f3 = u3.proxy;
    return e3.k = f3, e3.j = a2, f3;
  }(r2, t3) : b("ES5").J(r2, t3);
  return (t3 ? t3.A : _()).p.push(e2), e2;
}
function R(e2) {
  return r(e2) || n(22, e2), function n2(r2) {
    if (!t(r2))
      return r2;
    var e3, u3 = r2[Q], c2 = o(r2);
    if (u3) {
      if (!u3.P && (u3.i < 4 || !b("ES5").K(u3)))
        return u3.t;
      u3.I = true, e3 = D(r2, c2), u3.I = false;
    } else
      e3 = D(r2, c2);
    return i(e3, function(r3, t3) {
      u3 && a(u3.t, r3) === t3 || f(e3, r3, n2(t3));
    }), 3 === c2 ? new Set(e3) : e3;
  }(e2);
}
function D(n2, r2) {
  switch (r2) {
    case 2:
      return new Map(n2);
    case 3:
      return Array.from(n2);
  }
  return l(n2);
}
var G;
var U;
var W = "undefined" != typeof Symbol && "symbol" == typeof Symbol("x");
var X = "undefined" != typeof Map;
var q = "undefined" != typeof Set;
var B = "undefined" != typeof Proxy && void 0 !== Proxy.revocable && "undefined" != typeof Reflect;
var H = W ? Symbol.for("immer-nothing") : ((G = {})["immer-nothing"] = true, G);
var L = W ? Symbol.for("immer-draftable") : "__$immer_draftable";
var Q = W ? Symbol.for("immer-state") : "__$immer_state";
var Y = { 0: "Illegal state", 1: "Immer drafts cannot have computed properties", 2: "This object has been frozen and should not be mutated", 3: function(n2) {
  return "Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? " + n2;
}, 4: "An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.", 5: "Immer forbids circular references", 6: "The first or second argument to `produce` must be a function", 7: "The third argument to `produce` must be a function or undefined", 8: "First argument to `createDraft` must be a plain object, an array, or an immerable object", 9: "First argument to `finishDraft` must be a draft returned by `createDraft`", 10: "The given draft is already finalized", 11: "Object.defineProperty() cannot be used on an Immer draft", 12: "Object.setPrototypeOf() cannot be used on an Immer draft", 13: "Immer only supports deleting array indices", 14: "Immer only supports setting array indices and the 'length' property", 15: function(n2) {
  return "Cannot apply patch, path doesn't resolve: " + n2;
}, 16: 'Sets cannot have "replace" patches.', 17: function(n2) {
  return "Unsupported patch operation: " + n2;
}, 18: function(n2) {
  return "The plugin for '" + n2 + "' has not been loaded into Immer. To enable the plugin, import and call `enable" + n2 + "()` when initializing your application.";
}, 20: "Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available", 21: function(n2) {
  return "produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '" + n2 + "'";
}, 22: function(n2) {
  return "'current' expects a draft, got: " + n2;
}, 23: function(n2) {
  return "'original' expects a draft, got: " + n2;
}, 24: "Patching reserved attributes like __proto__, prototype and constructor is not allowed" };
var Z = "" + Object.prototype.constructor;
var nn = "undefined" != typeof Reflect && Reflect.ownKeys ? Reflect.ownKeys : void 0 !== Object.getOwnPropertySymbols ? function(n2) {
  return Object.getOwnPropertyNames(n2).concat(Object.getOwnPropertySymbols(n2));
} : Object.getOwnPropertyNames;
var rn = Object.getOwnPropertyDescriptors || function(n2) {
  var r2 = {};
  return nn(n2).forEach(function(t3) {
    r2[t3] = Object.getOwnPropertyDescriptor(n2, t3);
  }), r2;
};
var tn = {};
var en = { get: function(n2, r2) {
  if (r2 === Q)
    return n2;
  var e2 = p(n2);
  if (!u(e2, r2))
    return function(n3, r3, t3) {
      var e3, i4 = I(r3, t3);
      return i4 ? "value" in i4 ? i4.value : null === (e3 = i4.get) || void 0 === e3 ? void 0 : e3.call(n3.k) : void 0;
    }(n2, e2, r2);
  var i3 = e2[r2];
  return n2.I || !t(i3) ? i3 : i3 === z(n2.t, r2) ? (E(n2), n2.o[r2] = N(n2.A.h, i3, n2)) : i3;
}, has: function(n2, r2) {
  return r2 in p(n2);
}, ownKeys: function(n2) {
  return Reflect.ownKeys(p(n2));
}, set: function(n2, r2, t3) {
  var e2 = I(p(n2), r2);
  if (null == e2 ? void 0 : e2.set)
    return e2.set.call(n2.k, t3), true;
  if (!n2.P) {
    var i3 = z(p(n2), r2), o3 = null == i3 ? void 0 : i3[Q];
    if (o3 && o3.t === t3)
      return n2.o[r2] = t3, n2.R[r2] = false, true;
    if (c(t3, i3) && (void 0 !== t3 || u(n2.t, r2)))
      return true;
    E(n2), k(n2);
  }
  return n2.o[r2] === t3 && (void 0 !== t3 || r2 in n2.o) || Number.isNaN(t3) && Number.isNaN(n2.o[r2]) || (n2.o[r2] = t3, n2.R[r2] = true), true;
}, deleteProperty: function(n2, r2) {
  return void 0 !== z(n2.t, r2) || r2 in n2.t ? (n2.R[r2] = false, E(n2), k(n2)) : delete n2.R[r2], n2.o && delete n2.o[r2], true;
}, getOwnPropertyDescriptor: function(n2, r2) {
  var t3 = p(n2), e2 = Reflect.getOwnPropertyDescriptor(t3, r2);
  return e2 ? { writable: true, configurable: 1 !== n2.i || "length" !== r2, enumerable: e2.enumerable, value: t3[r2] } : e2;
}, defineProperty: function() {
  n(11);
}, getPrototypeOf: function(n2) {
  return Object.getPrototypeOf(n2.t);
}, setPrototypeOf: function() {
  n(12);
} };
var on = {};
i(en, function(n2, r2) {
  on[n2] = function() {
    return arguments[0] = arguments[0][0], r2.apply(this, arguments);
  };
}), on.deleteProperty = function(r2, t3) {
  return isNaN(parseInt(t3)) && n(13), on.set.call(this, r2, t3, void 0);
}, on.set = function(r2, t3, e2) {
  return "length" !== t3 && isNaN(parseInt(t3)) && n(14), en.set.call(this, r2[0], t3, e2, r2[0]);
};
var un = function() {
  function e2(r2) {
    var e3 = this;
    this.g = B, this.D = true, this.produce = function(r3, i4, o3) {
      if ("function" == typeof r3 && "function" != typeof i4) {
        var u3 = i4;
        i4 = r3;
        var a2 = e3;
        return function(n2) {
          var r4 = this;
          void 0 === n2 && (n2 = u3);
          for (var t3 = arguments.length, e4 = Array(t3 > 1 ? t3 - 1 : 0), o4 = 1; o4 < t3; o4++)
            e4[o4 - 1] = arguments[o4];
          return a2.produce(n2, function(n3) {
            var t4;
            return (t4 = i4).call.apply(t4, [r4, n3].concat(e4));
          });
        };
      }
      var f3;
      if ("function" != typeof i4 && n(6), void 0 !== o3 && "function" != typeof o3 && n(7), t(r3)) {
        var c2 = w(e3), s2 = N(e3, r3, void 0), v2 = true;
        try {
          f3 = i4(s2), v2 = false;
        } finally {
          v2 ? O(c2) : g(c2);
        }
        return "undefined" != typeof Promise && f3 instanceof Promise ? f3.then(function(n2) {
          return j(c2, o3), P(n2, c2);
        }, function(n2) {
          throw O(c2), n2;
        }) : (j(c2, o3), P(f3, c2));
      }
      if (!r3 || "object" != typeof r3) {
        if (void 0 === (f3 = i4(r3)) && (f3 = r3), f3 === H && (f3 = void 0), e3.D && d(f3, true), o3) {
          var p2 = [], l2 = [];
          b("Patches").M(r3, f3, p2, l2), o3(p2, l2);
        }
        return f3;
      }
      n(21, r3);
    }, this.produceWithPatches = function(n2, r3) {
      if ("function" == typeof n2)
        return function(r4) {
          for (var t4 = arguments.length, i5 = Array(t4 > 1 ? t4 - 1 : 0), o4 = 1; o4 < t4; o4++)
            i5[o4 - 1] = arguments[o4];
          return e3.produceWithPatches(r4, function(r5) {
            return n2.apply(void 0, [r5].concat(i5));
          });
        };
      var t3, i4, o3 = e3.produce(n2, r3, function(n3, r4) {
        t3 = n3, i4 = r4;
      });
      return "undefined" != typeof Promise && o3 instanceof Promise ? o3.then(function(n3) {
        return [n3, t3, i4];
      }) : [o3, t3, i4];
    }, "boolean" == typeof (null == r2 ? void 0 : r2.useProxies) && this.setUseProxies(r2.useProxies), "boolean" == typeof (null == r2 ? void 0 : r2.autoFreeze) && this.setAutoFreeze(r2.autoFreeze);
  }
  var i3 = e2.prototype;
  return i3.createDraft = function(e3) {
    t(e3) || n(8), r(e3) && (e3 = R(e3));
    var i4 = w(this), o3 = N(this, e3, void 0);
    return o3[Q].C = true, g(i4), o3;
  }, i3.finishDraft = function(r2, t3) {
    var e3 = r2 && r2[Q];
    e3 && e3.C || n(9), e3.I && n(10);
    var i4 = e3.A;
    return j(i4, t3), P(void 0, i4);
  }, i3.setAutoFreeze = function(n2) {
    this.D = n2;
  }, i3.setUseProxies = function(r2) {
    r2 && !B && n(20), this.g = r2;
  }, i3.applyPatches = function(n2, t3) {
    var e3;
    for (e3 = t3.length - 1; e3 >= 0; e3--) {
      var i4 = t3[e3];
      if (0 === i4.path.length && "replace" === i4.op) {
        n2 = i4.value;
        break;
      }
    }
    e3 > -1 && (t3 = t3.slice(e3 + 1));
    var o3 = b("Patches").$;
    return r(n2) ? o3(n2, t3) : this.produce(n2, function(n3) {
      return o3(n3, t3);
    });
  }, e2;
}();
var an = new un();
var fn = an.produce;
var cn = an.produceWithPatches.bind(an);
var sn = an.setAutoFreeze.bind(an);
var vn = an.setUseProxies.bind(an);
var pn = an.applyPatches.bind(an);
var ln = an.createDraft.bind(an);
var dn = an.finishDraft.bind(an);
var immer_esm_default = fn;

// ../../../node_modules/use-immer/dist/use-immer.module.js
var import_react = __toESM(require_react());
function i2(f3) {
  var u3 = (0, import_react.useState)(function() {
    return d("function" == typeof f3 ? f3() : f3, true);
  }), i3 = u3[1];
  return [u3[0], (0, import_react.useCallback)(function(t3) {
    i3("function" == typeof t3 ? immer_esm_default(t3) : d(t3));
  }, [])];
}
function e(r2, t3, o3) {
  var i3 = (0, import_react.useMemo)(function() {
    return immer_esm_default(r2);
  }, [r2]);
  return (0, import_react.useReducer)(i3, t3, o3);
}
export {
  i2 as useImmer,
  e as useImmerReducer
};
//# sourceMappingURL=use-immer.js.map
